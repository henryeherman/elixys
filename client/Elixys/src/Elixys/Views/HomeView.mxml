<?xml version="1.0" encoding="utf-8"?>
<Views:ViewBase xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark" xmlns:mx="library://ns.adobe.com/flex/mx"
		xmlns:Views="Elixys.Views.*" width="100%" height="100%">
	<fx:Script>
		<![CDATA[
			import Elixys.Objects.Button;
			import Elixys.Objects.State;
			
			import spark.components.Button;

			// Update function
			public override function Update(pState:State):void
			{
				// Loop through the server and client button arrays
				var pServerButtons:Array = pState.ClientDetailsHome().Buttons();
				var nButton:uint, pButtonClient:spark.components.Button, pButtonServer:Elixys.Objects.Button;
				for (nButton = 0; nButton < pServerButtons.length; ++nButton)
				{
					// Either get a pointer to the existing button or create a new one
					if (nButton < _buttonGroup.numElements)
					{
						// Use the existing button
						pButtonClient = _buttonGroup.getElementAt(nButton) as spark.components.Button;
					}
					else
					{
						// Create a new button
						pButtonClient = new spark.components.Button();
						pButtonClient.percentWidth = 100;
						pButtonClient.height = 50;
						pButtonClient.styleName = "button";
						_buttonGroup.addElement(pButtonClient);
					}

					// Update the button text and ID
					pButtonServer = pServerButtons[nButton];
					pButtonClient.label = pButtonServer.Text();
					pButtonClient.id = pButtonServer.ID();
				}
				
				// Remove any extra buttons
				while (nButton < _buttonGroup.numElements)
				{
					_buttonGroup.removeElementAt(_buttonGroup.numElements - 1);
				}
			}
		]]>
	</fx:Script>
	
	<s:HGroup horizontalAlign="center" verticalAlign="middle" horizontalCenter="0" verticalCenter="0" width="100%" height="100%">
		<s:Spacer width="30%" height="100%" />
		<s:VGroup horizontalAlign="center" verticalAlign="middle" horizontalCenter="0" verticalCenter="0" width="60%" height="100%">
			<s:Spacer height="20%" />
			<s:VGroup horizontalAlign="center" verticalAlign="middle" horizontalCenter="0" verticalCenter="0"
					gap="25" width="100%" height="100%">
				<s:Label text="What would you like to do?" styleName="label" />
				<s:VGroup id="_buttonGroup" horizontalAlign="center" verticalAlign="middle" horizontalCenter="0" verticalCenter="0"
						  gap="25" width="100%" />
			</s:VGroup>
			<s:Spacer height="20%" />
		</s:VGroup>
		<s:Spacer width="30%" height="100%" />
	</s:HGroup>
</Views:ViewBase>
